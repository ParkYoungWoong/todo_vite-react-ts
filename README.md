# ğŸ“Œ í•  ì¼(Todo) ê´€ë¦¬ ì•±

ì£¼ì–´ì§„ APIë¥¼ í™œìš©í•´ '[ì™„ì„± ì˜ˆì‹œ](https://todo-vite-vue3-composition-ts.vercel.app/)' ì²˜ëŸ¼ í•  ì¼(Todo) ê´€ë¦¬ ê¸°ëŠ¥ì„ êµ¬í˜„í•©ë‹ˆë‹¤.  

ì´ ì•±ì—ì„œ ì‚¬ìš©í•œ ì£¼ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

- `react-router-dom`: React ì•±ì˜ ë¼ìš°íŒ… ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ, URLê³¼ ì»´í¬ë„ŒíŠ¸ì˜ ë§¤í•‘ì„ ì‰½ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- `framer-motion`: ë³µì¡í•œ ì• ë‹ˆë©”ì´ì…˜ê³¼ ì œìŠ¤ì²˜ë¥¼ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.
- `axios`: HTTP í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ, ë¸Œë¼ìš°ì €ì™€ Node.jsì—ì„œ ëª¨ë‘ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.
- `zustand`: ìƒíƒœ ê´€ë¦¬ë¥¼ ê°„í¸í•˜ê²Œ í•  ìˆ˜ ìˆëŠ” ì‘ì§€ë§Œ ê°•ë ¥í•œ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.
- `@tanstack/react-query`: ë°ì´í„° íŒ¨ì¹­ê³¼ ìºì‹± ë“±ì„ ê°„í¸í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.
- `sortablejs`: ë“œë˜ê·¸ ì•¤ ë“œë¡­ ê¸°ëŠ¥ìœ¼ë¡œ ëª©ë¡ì„ ì •ë ¬í•˜ê±°ë‚˜ ì¬ë°°ì¹˜í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.
- `sass`: CSS ì „ì²˜ë¦¬ê¸°ë¡œ CSSë³´ë‹¤ ë” ë‚˜ì€ ë¬¸ë²•ê³¼ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.
- `clsx`: ì¡°ê±´ë¶€ CSS í´ë˜ìŠ¤ë¥¼ ë™ì ìœ¼ë¡œ ì¡°í•©í•˜ëŠ” ìœ í‹¸ë¦¬í‹°ì…ë‹ˆë‹¤.
- `vercel`: Vercelì—ì„œ ì œê³µí•˜ëŠ” ë°°í¬ ë„êµ¬ë¡œ, ìë™ ë°°í¬, ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ ë“±ì˜ ê¸°ëŠ¥ì„ ì§€ì›í•©ë‹ˆë‹¤.
- `concurrently`: ì—¬ëŸ¬ ê°œì˜ ìŠ¤í¬ë¦½íŠ¸ ëª…ë ¹ì„ ë™ì‹œì—(ë³‘ë ¬) ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ìœ í‹¸ë¦¬í‹°ì…ë‹ˆë‹¤.
- `dotenv`: í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬ë¥¼ ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ, `.env` íŒŒì¼ì— ì •ì˜ëœ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.

![ì™„ì„± ì˜ˆì‹œ](./screenshots/ss1.JPG)  
![ì™„ì„± ì˜ˆì‹œ](./screenshots/ss2.JPG)

## Vercel

### Vercel SPA Fallback

Browser Router ëª¨ë“œì—ì„œ ë‹¨ì¼ í˜ì´ì§€ ì•±(SPA)ì„ ì œê³µí•  ë•ŒëŠ” ì ì ˆí•œ ì„œë²„ êµ¬ì„±ì´ í•„ìš”í•©ë‹ˆë‹¤.     
ìš°ë¦¬ëŠ” Vercel í˜¸ìŠ¤íŒ…ì„ ì‚¬ìš©í•˜ë¯€ë¡œ, ëª¨ë“  ê²½ë¡œì— ëŒ€í•´ `index.html` íŒŒì¼ì„ ì œê³µí•  ìˆ˜ ìˆê²Œ ë‹¤ìŒê³¼ ê°™ì´ ì˜µì…˜ì„ ì œê³µí•©ë‹ˆë‹¤.

https://vercel.com/docs/concepts/projects/project-configuration#legacy-spa-fallback

__/vercel.json__

```json
{
  "routes": [
    { "handle": "filesystem" },
    { "src": "/(.*)", "dest": "/index.html" }
  ]
}
```

## API ì •ë³´

ëª¨ë“  ìš”ì²­ì€ ë‹¤ìŒ Headers ì •ë³´ê°€ í•„ìˆ˜ë¡œ í¬í•¨ë¼ì•¼ í•©ë‹ˆë‹¤.   
`<TODO_APIKEY>`ì™€ `<TODO_USERNAME>` ì •ë³´ëŠ” ë³„ë„ ì œê³µí•©ë‹ˆë‹¤.

```curl
curl <API_ENDPOINT>
  \ -X <REQUEST_METHOD>
  \ -H 'content-type: application/json'
  \ -H 'apikey: <TODO_APIKEY>'
  \ -H 'username: <TODO_USERNAME>'
``` 


### í•  ì¼ ëª©ë¡ ì¡°íšŒ

ì „ì²´ í•  ì¼ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.

```curl
curl https://asia-northeast3-heropy-api.cloudfunctions.net/api/todos
  \ -X 'GET'
```

__ìš”ì²­ ë°ì´í„° íƒ€ì… ë° ì˜ˆì‹œ:__

- N/A

__ì‘ë‹µ ë°ì´í„° íƒ€ì… ë° ì˜ˆì‹œ:__

```ts
type ResponseValue = Todo[] // í•  ì¼ ëª©ë¡

interface Todo {
  id: string // í•  ì¼ ID
  order: number // í•  ì¼ ìˆœì„œ
  title: string // í•  ì¼ ì œëª©
  done: boolean // í•  ì¼ ì™„ë£Œ ì—¬ë¶€
  createdAt: string // í•  ì¼ ìƒì„±ì¼
  updatedAt: string // í•  ì¼ ìˆ˜ì •ì¼
}
```

```json
[
  {
    "id": "mnIwaAPIAE1ayQmqekiR",
    "order": 0,
    "title": "JS ê³µë¶€í•˜ê¸°",
    "done": false,
    "createdAt": "2021-10-28T05:18:51.868Z",
    "updatedAt": "2021-10-28T05:18:51.868Z"
  },
  {
    "id": "tMzPImGoWtRdJ6yyVv2y",
    "order": 1,
    "title": "ê³¼ì œ PullRequest(PR) ìƒì„±",
    "done": true,
    "createdAt": "2021-10-28T04:16:53.980Z",
    "updatedAt": "2021-10-28T09:40:17.955Z"
  },
  {
    "id": "Rq8BebKihCgteHHhMIRS",
    "order": 2,
    "title": "API ìŠ¤í„°ë””",
    "done": false,
    "createdAt": "2021-10-28T04:17:02.510Z",
    "updatedAt": "2021-10-28T04:17:02.510Z"
  }
]
```


### í•  ì¼ í•­ëª© ì¶”ê°€

í•  ì¼ í•­ëª©ì„ ìƒˆë¡­ê²Œ ì¶”ê°€í•©ë‹ˆë‹¤.

```curl
curl https://asia-northeast3-heropy-api.cloudfunctions.net/api/todos
  \ -X 'POST'
```

__ìš”ì²­ ë°ì´í„° íƒ€ì… ë° ì˜ˆì‹œ:__

```ts
interface RequestBody {
  title: string // í•  ì¼ ì œëª©
  order?: number // í•  ì¼ ìˆœì„œ
}
```

```json
{
  "title": "KDT ê³¼ì • ì„¤ê³„ ë¯¸íŒ…"
}
```

__ì‘ë‹µ ë°ì´í„° íƒ€ì… ë° ì˜ˆì‹œ:__

```ts
interface ResponseValue {
  id: string
  order: number
  title: string
  done: boolean
  createdAt: string
  updatedAt: string
}
```

```json
{
  "id": "7P8dOM4voAv8a8cfoeKZ",
  "order": 0,
  "title": "KDT ê³¼ì • ì„¤ê³„ ë¯¸íŒ…",
  "done": false,
  "createdAt": "2021-10-29T07:20:02.749Z",
  "updatedAt": "2021-10-29T07:20:02.749Z"
}
```


### í•  ì¼ í•­ëª© ìˆ˜ì •

íŠ¹ì • í•  ì¼ í•­ëª©ì„ ìˆ˜ì •í•©ë‹ˆë‹¤.

```curl
curl https://asia-northeast3-heropy-api.cloudfunctions.net/api/todos/:todoId
  \ -X 'PUT'
```

__ìš”ì²­ ë°ì´í„° íƒ€ì… ë° ì˜ˆì‹œ:__

```ts
interface RequestBody {
  title: string // í•  ì¼ ì œëª©
  done: boolean // í•  ì¼ ì™„ë£Œ ì—¬ë¶€
  order?: number // í•  ì¼ ìˆœì„œ
}
```

```json
{
  "title": "Bootstrap ìŠ¤íƒ€ì¼ ì¶”ê°€",
  "done": false
}
```

__ì‘ë‹µ ë°ì´í„° íƒ€ì… ë° ì˜ˆì‹œ:__

```ts
interface ResponseValue {
  id: string
  order: number
  title: string
  done: boolean
  createdAt: string
  updatedAt: string
}
```

```json
{
  "id": "7P8dOM4voAv8a8cfoeKZ",
  "title": "Bootstrap ìŠ¤íƒ€ì¼ ì¶”ê°€",
  "done": false,
  "order": 2,
  "createdAt": "2021-10-29T07:20:02.749Z",
  "updatedAt": "2021-10-29T07:20:02.749Z"
}
```


### í•  ì¼ í•­ëª© ì‚­ì œ

íŠ¹ì • í•  ì¼ í•­ëª©ì„ ì‚­ì œí•©ë‹ˆë‹¤.

```curl
curl https://asia-northeast3-heropy-api.cloudfunctions.net/api/todos/:todoId
  \ -X 'DELETE'
```

__ìš”ì²­ ë°ì´í„° íƒ€ì… ë° ì˜ˆì‹œ:__

- N/A

__ì‘ë‹µ ë°ì´í„° íƒ€ì… ë° ì˜ˆì‹œ:__

```ts
type ResponseValue = true // ì •ìƒ ì‘ë‹µ
```


### í•  ì¼ í•­ëª© ì¼ê´„ ì‚­ì œ

```curl
curl https://asia-northeast3-heropy-api.cloudfunctions.net/api/todos/deletions
  \ -X 'DELETE'
```

__ìš”ì²­ ë°ì´í„° íƒ€ì… ë° ì˜ˆì‹œ:__

```ts
interface RequestBody {
  todoIds: string[] // ì‚­ì œí•  í•  ì¼ ID ëª©ë¡
}
```

```json
{
  "todoIds": [
    "mnIwaAPIAE1ayQmqekiR",
    "tMzPImGoWtRdJ6yyVv2y",
    "GHrvr3LaPx1g7y2sNuaC",
    "Rq8BebKihCgteHHhMIRS"
  ]
}
```

__ì‘ë‹µ ë°ì´í„° íƒ€ì… ë° ì˜ˆì‹œ:__

```ts
type ResponseValue = true // ì •ìƒ ì‘ë‹µ
```


### í•  ì¼ ëª©ë¡ ìˆœì„œ ë³€ê²½

í•  ì¼ ëª©ë¡ì˜ ìˆœì„œë¥¼ ë³€ê²½í•©ë‹ˆë‹¤.  

```curl
curl https://asia-northeast3-heropy-api.cloudfunctions.net/api/todos/reorder
  \ -X 'PUT'
```

__ìš”ì²­ ë°ì´í„° íƒ€ì… ë° ì˜ˆì‹œ:__

```ts
interface RequestBody {
  todoIds: string[] // ìƒˆë¡­ê²Œ ì •ë ¬í•  í•  ì¼ ID ëª©ë¡
}
```

```json
{
  "todoIds": [
    "mnIwaAPIAE1ayQmqekiR",
    "tMzPImGoWtRdJ6yyVv2y",
    "GHrvr3LaPx1g7y2sNuaC",
    "Rq8BebKihCgteHHhMIRS"
  ]
}
```

__ì‘ë‹µ ë°ì´í„° íƒ€ì… ë° ì˜ˆì‹œ:__

```ts
type ResponseValue = true // ì •ìƒ ì‘ë‹µ
```
